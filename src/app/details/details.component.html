<div *ngIf="cloudServiceEntry; else elseBlock" style="padding-top: 50px;">
  <div *ngIf="singleEntryData; else showDataBlock">
    <p>Assessment Type: <a href="https://cloudsecurityalliance.org/star/#_overview">{{singleEntryData.type}}</a></p>
    <div *ngIf="singleEntryData.asset_url; else noAssetUrl">
      <a href="{{singleEntryData.asset_url}}">Download partner responses</a>
    </div>
    <ng-template #noAssetUrl>
      <p>Specification Name: {{singleEntryData.specification_name}}</p>
    </ng-template>

    <div style="padding-top: 20px;">
      <mat-form-field appearance="fill" style="width: 50%;">
        <mat-select [(ngModel)]="selectedControl" name="control" placeholder="Please select a control category" style="height: 20px;" 
                    disableOptionCentering="true">
          <mat-option *ngFor="let control of controlData" [value]="control.control_id"
            (onSelectionChange)="onTitleChanged($event)">
            {{control.title}}
          </mat-option>
        </mat-select>
      </mat-form-field>
    </div>

    <div *ngIf="caiqAssessmentDetails; else dneBlock">
      <table class="table">
        <thead class="thead-dark">
          <tr *ngIf="selectedControlId === '1'; else normalBlock">
            <th scope="col" *ngIf="selectedControlId === '1'; else noTitleBlock">Control Category</th>
            <ng-template #noTitleBlock></ng-template>
            <th scope="col">Question ID</th>
            <th scope="col">Question</th>
            <th scope="col">Response</th>
            <th scope="col">Comment</th>
          </tr>
          <ng-template #normalBlock>
            <th scope="col" *ngIf="selectedControlId === '1'; else noTitleBlock">Control Category</th>
            <ng-template #noTitleBlock></ng-template>
            <th scope="col">Question</th>
            <th scope="col">Response</th>
            <th scope="col">Comment</th>
            <th scope="col">Question ID</th>
          </ng-template>
        </thead>
        <tbody *ngFor="let item of caiqAssessmentDetails">
          <tr *ngIf="selectedControlId === '1'; else normal">
            <td *ngIf="selectedControlId === '1'; else noTitleBlock">{{item.title}}</td>
            <ng-template #noTitleBlock></ng-template>
            <td>{{item.question_id}}</td>
            <td>{{item.question}}</td>
            <td>{{item.response}}</td>
            <td>{{item.comment}}</td>
          </tr>
          <ng-template #normal>
            <td *ngIf="selectedControlId === '1'; else noTitleBlock">{{item.title}}</td>
            <ng-template #noTitleBlock></ng-template>
            <td>{{item.question}}</td>
            <td>{{item.response}}</td>
            <td>{{item.comment}}</td>
            <td>{{item.question_id}}</td>
          </ng-template>
        </tbody>
      </table>

      <!-- <a class="button-like" href="#home">Home</a> -->
    </div>
    <ng-template #dneBlock>
      <p>Please select a control category from the dropdown above</p>
      <!-- <a class="button-like" href="#home">Home</a> -->
    </ng-template>
  </div>
  <ng-template #showDataBlock>
    <p class="info-not-exist">CAIQ information cannot be found</p>
    <!-- <a class="button-like" href="#home">Home</a> -->
  </ng-template>
</div>
<ng-template #elseBlock>
  <p class="info-not-exist">Cloud Service data is not found</p>
  <!-- <a class="button-like" href="#home">Home</a> -->
</ng-template>